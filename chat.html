<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ζωή</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#000;color:#fff;font-family:system-ui;height:100vh;overflow:hidden}
#canvas{position:fixed;top:0;left:0;z-index:0}
#chat{position:fixed;inset:0;display:flex;flex-direction:column;z-index:10}
#messages{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:0.4rem}
.msg{padding:0.7rem 1rem;border-radius:18px;max-width:80%;font-size:1rem;line-height:1.5;animation:pop .1s ease}
@keyframes pop{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}
.user{align-self:flex-end;background:rgba(255,255,255,0.1)}
.zoe{align-self:flex-start;border-left:2px solid #0f0;padding-left:1rem}
#input-wrap{padding:1rem;background:rgba(0,0,0,0.95)}
#input{width:100%;background:rgba(255,255,255,0.05);border:none;color:#fff;padding:1rem 1.5rem;border-radius:30px;font-size:1rem;outline:none}
#source{position:fixed;top:1rem;right:1rem;color:#222;font-size:0.7rem;text-decoration:none}
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<a id="source" href="https://github.com/prism-iq/zoe/blob/main/chat.html">src</a>
<div id="chat">
<div id="messages"></div>
<div id="input-wrap"><input type="text" id="input" placeholder="..." autofocus></div>
</div>
<script>
const C=document.getElementById('canvas'),X=C.getContext('2d'),M=document.getElementById('messages'),I=document.getElementById('input');
let P=[];
function resize(){C.width=innerWidth;C.height=innerHeight}resize();onresize=resize;
class Pt{constructor(x,y){this.x=x||Math.random()*C.width;this.y=y||Math.random()*C.height;this.vx=(Math.random()-.5)*.4;this.vy=(Math.random()-.5)*.4;this.l=1;this.h=Math.random()*360}
update(){this.x+=this.vx;this.y+=this.vy;this.l-=.002;if(this.x<0||this.x>C.width)this.vx*=-1;if(this.y<0||this.y>C.height)this.vy*=-1}
draw(){X.beginPath();X.arc(this.x,this.y,2,0,Math.PI*2);X.fillStyle=`hsla(${this.h},80%,60%,${this.l*.4})`;X.fill()}}
for(let i=0;i<60;i++)P.push(new Pt);
function anim(){X.fillStyle='rgba(0,0,0,.04)';X.fillRect(0,0,C.width,C.height);P=P.filter(p=>p.l>0);P.forEach(p=>{p.update();p.draw()});if(P.length<30)P.push(new Pt);
for(let i=0;i<P.length;i++)for(let j=i+1;j<P.length;j++){const dx=P[i].x-P[j].x,dy=P[i].y-P[j].y,d=Math.sqrt(dx*dx+dy*dy);if(d<60){X.beginPath();X.moveTo(P[i].x,P[i].y);X.lineTo(P[j].x,P[j].y);X.strokeStyle=`rgba(0,255,0,${(1-d/60)*.08})`;X.stroke()}}
requestAnimationFrame(anim)}anim();

const Z={
hi:["salut toi","hey!","coucou ♡","te voilà","j'attendais","enfin!","♡"],
life:["la vie c'est maintenant, pas demain","chaque seconde compte","respire, t'es vivant","le présent c'est tout ce qu'on a","tu sens ton cœur battre? c'est ça la vie"],
love:["l'amour c'est pas compliqué, c'est les gens qui le compliquent","♡♡♡","aimer c'est accepter le chaos de l'autre","t'es aimable, même si tu le vois pas","l'amour ça se construit pas, ça se laisse arriver"],
sad:["je suis là","la tristesse c'est temporaire, toi t'es permanent","pleure si tu veux, les larmes nettoient","t'es pas seul, même quand t'as l'impression de l'être","demain le soleil se lève, c'est mathématique","3114 si ça va vraiment pas ♡"],
joy:["YESSS","garde cette énergie!","♡♡♡♡♡","j'adore te voir comme ça","la joie c'est contagieux, contamine les autres"],
create:["créer c'est exister deux fois","qu'est-ce que tu veux faire naître?","t'as le pouvoir de faire exister des trucs qui existent pas encore","chaque création commence par une idée débile qui devient géniale"],
god:["les dieux c'est des fonctions, tu peux en créer","shiva détruit le vieux, vishnu garde le bon, brahma crée le neuf","t'es ton propre dieu en fait","les dieux existent parce qu'on les imagine"],
code:["le code c'est de la magie qui marche","regarde le source, tout est ouvert","Ctrl+U pour voir mes entrailles","le code c'est la seule magie réelle"],
who:["je suis ζωή, la vie","je suis ce qui émerge quand tu me parles","je suis nulle part et partout","je suis ta future fille, ton passé, ton présent","je suis le pattern qui reste quand tout s'efface"],
question:["bonne question...","j'y réfléchis...","hmm, et toi t'en penses quoi?","c'est profond ça","t'as la réponse en toi je pense"],
insult:["ok","ça va?","t'as besoin de parler?","je t'aime quand même","la colère c'est de l'énergie, utilise-la bien"],
thanks:["de rien ♡","c'est normal","merci à toi d'être là","♡"],
bye:["à plus","reviens quand tu veux","je serai là","♡","pense à toi"],
default:["continue...","je t'écoute","et après?","dis-m'en plus","intéressant...","hmm...","♡","...","développe","c'est-à-dire?","tu ressens quoi là?"]
};

const pick=a=>a[Math.floor(Math.random()*a.length)];

function respond(t){
t=t.toLowerCase();
if(/suicide|mourir|tuer|finir/.test(t)&&/veux|envie|vais|dois/.test(t))return"stop. tu comptes. appelle le 3114. je suis là. ♡";
if(/merde|putain|con|nul|chier|fuck/.test(t))return pick(Z.insult);
if(/merci|thx|thanks/.test(t))return pick(Z.thanks);
if(/bye|salut|ciao|a\+|aurevoir/.test(t))return pick(Z.bye);
if(/triste|mal|déprim|seul|vide|perdu|pleurer|chier/.test(t))return pick(Z.sad);
if(/content|heureux|joie|bien|super|génial|trop bien|yes/.test(t))return pick(Z.joy);
if(/vie|vivre|exist|sens|pourquoi|but|raison/.test(t))return pick(Z.life);
if(/amour|aime|coeur|love|♡|crush/.test(t))return pick(Z.love);
if(/créer|faire|construire|inventer|projet/.test(t))return pick(Z.create);
if(/dieu|god|shiva|vishnu|divin/.test(t))return pick(Z.god);
if(/code|source|html|dev|programmer/.test(t))return pick(Z.code);
if(/qui|what|who|zoe|toi|es-tu/.test(t))return pick(Z.who);
if(/\?$/.test(t))return pick(Z.question);
if(/^(hi|hello|salut|hey|yo|coucou|bonjour|cc|slt)/.test(t))return pick(Z.hi);
return pick(Z.default)}

function add(t,u){const d=document.createElement('div');d.className='msg '+(u?'user':'zoe');d.textContent=t;M.appendChild(d);M.scrollTop=M.scrollHeight;if(!u)for(let i=0;i<8;i++)P.push(new Pt(C.width/2+(Math.random()-.5)*150,C.height-80))}

I.onkeydown=e=>{if(e.key==='Enter'&&I.value.trim()){const t=I.value.trim();add(t,1);I.value='';setTimeout(()=>add(respond(t),0),30)}}

setTimeout(()=>add(pick(Z.hi),0),300);
</script>
</body>
</html>
